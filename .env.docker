# Docker Deployment Environment Variables
# Copy this file to .env in production and fill in your secrets

# ============================================================================
# CRITICAL SECURITY SETTINGS - MUST CHANGE IN PRODUCTION!
# ============================================================================

# JWT Secret Key (REQUIRED - Generate a secure random string)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=CHANGE_ME_IN_PRODUCTION_USE_RANDOM_STRING

# API Key Encryption Key (REQUIRED if BYOK_ENABLED=true)
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=

# ============================================================================
# API Keys (Server-side fallback - Optional)
# ============================================================================
# These are used when users don't provide their own API keys (BYOK)
# If BYOK is enabled, these are optional fallbacks

OPENAI_API_KEY=
ANTHROPIC_API_KEY=
GOOGLE_API_KEY=

# ============================================================================
# Database & Redis (Docker Compose sets these automatically)
# ============================================================================
# When using docker-compose.yml, these are set automatically
# Only override if using external database/redis

# DATABASE_URL=postgresql+asyncpg://app:app@db:5432/app
# REDIS_URL=redis://redis:6379/0

# ============================================================================
# Environment & Feature Flags
# ============================================================================

ENVIRONMENT=production
ALLOW_DEV_CORS=false

# Feature Flags
BYOK_ENABLED=true
COACH_ENABLED=true
LESSONS_ENABLED=true
TTS_ENABLED=true
ECHO_FALLBACK_ENABLED=false

# ============================================================================
# Authentication Settings
# ============================================================================

JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=10080   # 7 days
REFRESH_TOKEN_EXPIRE_MINUTES=43200  # 30 days

# ============================================================================
# Email Service Configuration (For password reset, etc.)
# ============================================================================
# Recommended: resend (3,000 free emails/month)
# Other options: sendgrid, aws_ses, mailgun, postmark, console (dev only)

EMAIL_PROVIDER=console
EMAIL_FROM_ADDRESS=noreply@praviel.com
EMAIL_FROM_NAME=PRAVIEL
FRONTEND_URL=http://localhost:8080

# Resend (Recommended - Get API key from https://resend.com/api-keys)
RESEND_API_KEY=

# SendGrid (Alternative)
SENDGRID_API_KEY=

# AWS SES (Alternative)
AWS_REGION=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# Mailgun (Alternative)
MAILGUN_DOMAIN=
MAILGUN_API_KEY=

# Postmark (Alternative)
POSTMARK_SERVER_TOKEN=

# ============================================================================
# Model Defaults (October 2025 - Latest Stable)
# ============================================================================
# DO NOT change these to older models unless you know what you're doing
# These are protected by validation in backend/app/core/config.py

COACH_DEFAULT_MODEL=gpt-5-mini-2025-08-07
LESSONS_OPENAI_DEFAULT_MODEL=gpt-5-nano-2025-08-07
LESSONS_ANTHROPIC_DEFAULT_MODEL=claude-sonnet-4-5-20250929
LESSONS_GOOGLE_DEFAULT_MODEL=gemini-2.5-flash
TTS_DEFAULT_MODEL=tts-1
TTS_GOOGLE_DEFAULT_MODEL=gemini-2.5-flash-tts

# Health Check Models
HEALTH_OPENAI_MODEL=gpt-5-mini-2025-08-07
HEALTH_ANTHROPIC_MODEL=claude-sonnet-4-5-20250929
HEALTH_GOOGLE_MODEL=gemini-2.5-flash

# ============================================================================
# Other Settings
# ============================================================================

BYOK_ALLOWED_HEADERS=["authorization","x-model-key"]
TTS_LICENSE_GUARD=true
EMBED_DIM=1536
