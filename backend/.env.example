# Database Configuration
DATABASE_URL=postgresql+asyncpg://postgres:password@localhost:5432/ancient_languages
REDIS_URL=redis://localhost:6379/0

# Environment
ENVIRONMENT=dev  # dev, staging, production
ALLOW_DEV_CORS=true

# Feature Flags
BYOK_ENABLED=true
COACH_ENABLED=true
LESSONS_ENABLED=true
TTS_ENABLED=true
ECHO_FALLBACK_ENABLED=true

# Authentication & Security (REQUIRED for production)
# Generate JWT secret: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=CHANGE_ME_IN_PRODUCTION_USE_RANDOM_STRING
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=10080  # 7 days
REFRESH_TOKEN_EXPIRE_MINUTES=43200  # 30 days

# API Key Encryption (REQUIRED for BYOK user storage)
# Generate encryption key: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=

# Server-side API Keys (optional - for server default fallback)
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
GOOGLE_API_KEY=

# Demo API Keys (free tier for non-technical users)
# These keys provide free access with per-user rate limiting for alpha testing
# Users can still add their own keys for unlimited usage
DEMO_ENABLED=true
DEMO_OPENAI_API_KEY=
DEMO_ANTHROPIC_API_KEY=
DEMO_GOOGLE_API_KEY=

# Demo API Rate Limits (per user per day/week)
# Adjust these values to increase/decrease free tier limits
DEMO_DAILY_REQUEST_LIMIT=30      # requests per day (generous for alpha testing)
DEMO_WEEKLY_REQUEST_LIMIT=150    # requests per week

# Email Service Configuration
EMAIL_PROVIDER=console  # console (dev), resend, sendgrid, aws_ses, mailgun, postmark
EMAIL_FROM_ADDRESS=noreply@praviel.com
EMAIL_FROM_NAME=PRAVIEL
FRONTEND_URL=http://localhost:8080
# Provider-specific API keys (configure based on EMAIL_PROVIDER)
RESEND_API_KEY=
SENDGRID_API_KEY=
AWS_REGION=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
MAILGUN_DOMAIN=
MAILGUN_API_KEY=
POSTMARK_SERVER_TOKEN=

# Model Defaults (October 2025 - Latest Stable)
# Using dated models for production stability (recommended over aliases)
COACH_DEFAULT_MODEL=gpt-5-mini-2025-08-07
LESSONS_OPENAI_DEFAULT_MODEL=gpt-5-nano-2025-08-07
LESSONS_ANTHROPIC_DEFAULT_MODEL=claude-sonnet-4-5-20250929
LESSONS_GOOGLE_DEFAULT_MODEL=gemini-2.5-flash
TTS_DEFAULT_MODEL=tts-1
TTS_GOOGLE_DEFAULT_MODEL=gemini-2.5-flash-tts

# Health Check Models (October 2025)
HEALTH_OPENAI_MODEL=gpt-5-mini-2025-08-07
HEALTH_ANTHROPIC_MODEL=claude-sonnet-4-5-20250929
HEALTH_GOOGLE_MODEL=gemini-2.5-flash

# Data Paths (optional - defaults to ../data from backend/)
# DATA_VENDOR_ROOT=
# DATA_DERIVED_ROOT=

# BYOK Configuration
BYOK_ALLOWED_HEADERS=["authorization","x-model-key"]

# TTS Configuration
TTS_LICENSE_GUARD=true

# Embedding Dimension
EMBED_DIM=1536
